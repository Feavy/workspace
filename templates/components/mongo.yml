- name: mongo
  image: mongo
  tag: latest
  ports:
    - name: mongo
      number: 27017
  env:
    MONGO_INITDB_ROOT_USERNAME: root
    MONGO_INITDB_ROOT_PASSWORD: root
  volumes:
    - name: mongoData
      mountPath: /data/db
      size: 1Gi
- name: express
  image: mongo-express
  tag: latest
  ports:
    - name: web
      number: 8081
      ingress:
        subdomain: mongo
  env:
    ME_CONFIG_MONGODB_URL: "mongodb://localhost:{{ mongo.ports.mongo.number }}"
    ME_CONFIG_MONGODB_SERVER: "localhost"
    ME_CONFIG_MONGODB_PORT: "{{ mongo.ports.mongo.number }}"
    ME_CONFIG_MONGODB_ENABLE_ADMIN: "true"
    ME_CONFIG_MONGODB_ADMINUSERNAME: root
    ME_CONFIG_MONGODB_ADMINPASSWORD: "{{ mongo.env.MONGO_INITDB_ROOT_PASSWORD }}"
    ME_CONFIG_BASICAUTH_USERNAME: "admin"
    ME_CONFIG_BASICAUTH_PASSWORD: "admin"
